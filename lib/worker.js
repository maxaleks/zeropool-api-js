(()=>{"use strict";var e={648:(e,t,n)=>{let r;n.r(t),n.d(t,{getConstants:()=>O,validateAddress:()=>P,reduceSpendingKey:()=>M,DepositData:()=>R,Helpers:()=>W,Params:()=>N,Proof:()=>U,TransferData:()=>F,TxBaseFields:()=>$,UserAccount:()=>H,UserState:()=>z,WithdrawData:()=>q,default:()=>K});let o=new TextDecoder("utf-8",{ignoreBOM:!0,fatal:!0});o.decode();let _=null;function a(){return null!==_&&_.buffer===r.memory.buffer||(_=new Uint8Array(r.memory.buffer)),_}function i(e,t){return o.decode(a().subarray(e,e+t))}const c=new Array(32).fill(void 0);c.push(void 0,null,!0,!1);let s=c.length;function u(e){s===c.length&&c.push(c.length+1);const t=s;return s=c[t],c[t]=e,t}function f(e){return c[e]}function b(e){const t=f(e);return function(e){e<36||(c[e]=s,s=e)}(e),t}let d=0,g=new TextEncoder("utf-8");const w="function"==typeof g.encodeInto?function(e,t){return g.encodeInto(e,t)}:function(e,t){const n=g.encode(e);return t.set(n),{read:e.length,written:n.length}};function l(e,t,n){if(void 0===n){const n=g.encode(e),r=t(n.length);return a().subarray(r,r+n.length).set(n),d=n.length,r}let r=e.length,o=t(r);const _=a();let i=0;for(;i<r;i++){const t=e.charCodeAt(i);if(t>127)break;_[o+i]=t}if(i!==r){0!==i&&(e=e.slice(i)),o=n(o,r,r=i+3*e.length);const t=a().subarray(o+i,o+r);i+=w(e,t).written}return d=i,o}function p(e){return null==e}let y=null;function h(){return null!==y&&y.buffer===r.memory.buffer||(y=new Int32Array(r.memory.buffer)),y}let m=null;function v(e){const t=typeof e;if("number"==t||"boolean"==t||null==e)return`${e}`;if("string"==t)return`"${e}"`;if("symbol"==t){const t=e.description;return null==t?"Symbol":`Symbol(${t})`}if("function"==t){const t=e.name;return"string"==typeof t&&t.length>0?`Function(${t})`:"Function"}if(Array.isArray(e)){const t=e.length;let n="[";t>0&&(n+=v(e[0]));for(let r=1;r<t;r++)n+=", "+v(e[r]);return n+="]",n}const n=/\[object ([^\]]+)\]/.exec(toString.call(e));let r;if(!(n.length>1))return toString.call(e);if(r=n[1],"Object"==r)try{return"Object("+JSON.stringify(e)+")"}catch(e){return"Object"}return e instanceof Error?`${e.name}: ${e.message}\n${e.stack}`:r}function k(e,t,n,o){const _={a:e,b:t,cnt:1,dtor:n},a=(...e)=>{_.cnt++;const t=_.a;_.a=0;try{return o(t,_.b,...e)}finally{0==--_.cnt?r.__wbindgen_export_2.get(_.dtor)(t,_.b):_.a=t}};return a.original=_,a}function E(e,t,n){r._dyn_core__ops__function__FnMut__A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__hfc425039aa43f888(e,t,u(n))}let S=32;function A(e,t,n){try{r._dyn_core__ops__function__FnMut___A____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h82f73f60a1a91f9b(e,t,function(e){if(1==S)throw new Error("out of js stack");return c[--S]=e,S}(n))}finally{c[S++]=void 0}}function x(e,t){r._dyn_core__ops__function__FnMut_____Output___R_as_wasm_bindgen__closure__WasmClosure___describe__invoke__h5dfa155c2d741bee(e,t)}const j=new Uint32Array(2),B=new BigUint64Array(j.buffer);function O(){return b(r.getConstants())}function P(e){var t=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=d;return 0!==r.validateAddress(t,n)}function D(e,t){const n=t(1*e.length);return a().set(e,n/1),d=e.length,n}function L(e,t){return a().subarray(e/1,e/1+t)}function M(e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);var t=D(e,r.__wbindgen_malloc),n=d;r.reduceSpendingKey(i,t,n);var o=h()[i/4+0],_=h()[i/4+1],a=L(o,_).slice();return r.__wbindgen_free(o,1*_),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}function C(e,t){if(!(e instanceof t))throw new Error(`expected instance of ${t.name}`);return e.ptr}let I=null;function T(e,t){try{return e.apply(this,t)}catch(e){r.__wbindgen_exn_store(u(e))}}class R{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_depositdata_free(e)}}class W{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_helpers_free(e)}static strToNum(e){try{const i=r.__wbindgen_add_to_stack_pointer(-16);var t=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=d;r.helpers_strToNum(i,t,n);var o=h()[i/4+0],_=h()[i/4+1],a=L(o,_).slice();return r.__wbindgen_free(o,1*_),a}finally{r.__wbindgen_add_to_stack_pointer(16)}}static numToStr(e){try{const a=r.__wbindgen_add_to_stack_pointer(-16);var t=D(e,r.__wbindgen_malloc),n=d;r.helpers_numToStr(a,t,n);var o=h()[a/4+0],_=h()[a/4+1];return i(o,_)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(o,_)}}static outCommitmentHash(e){try{const o=r.__wbindgen_add_to_stack_pointer(-16);r.helpers_outCommitmentHash(o,u(e));var t=h()[o/4+0],n=h()[o/4+1];return i(t,n)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(t,n)}}}class N{static __wrap(e){const t=Object.create(N.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_params_free(e)}static fromBinary(e){var t=D(e,r.__wbindgen_malloc),n=d,o=r.params_fromBinary(t,n);return N.__wrap(o)}}class U{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_proof_free(e)}static verify(e,t,n){return 0!==r.proof_verify(u(e),u(t),u(n))}static tx(e,t,n){return C(e,N),b(r.proof_tx(e.ptr,u(t),u(n)))}static tree(e,t,n){return C(e,N),b(r.proof_tree(e.ptr,u(t),u(n)))}}class F{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_transferdata_free(e)}}class ${__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_txbasefields_free(e)}}class H{static __wrap(e){const t=Object.create(H.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_useraccount_free(e)}constructor(e,t){var n=D(e,r.__wbindgen_malloc),o=d;C(t,z);var _=t.ptr;t.ptr=0;var a=r.useraccount_new(n,o,_);return H.__wrap(a)}static fromSeed(e,t){var n=D(e,r.__wbindgen_malloc),o=d;C(t,z);var _=t.ptr;t.ptr=0;var a=r.useraccount_fromSeed(n,o,_);return H.__wrap(a)}generateAddress(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_generateAddress(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}decryptNotes(e){var t=D(e,r.__wbindgen_malloc),n=d;return b(r.useraccount_decryptNotes(this.ptr,t,n))}decryptPair(e){var t=D(e,r.__wbindgen_malloc),n=d;return b(r.useraccount_decryptPair(this.ptr,t,n))}createDeposit(e){return b(r.useraccount_createDeposit(this.ptr,u(e)))}createTransfer(e){return b(r.useraccount_createTransfer(this.ptr,u(e)))}createWithdraw(e){return b(r.useraccount_createWithdraw(this.ptr,u(e)))}isOwnAddress(e){var t=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=d;return 0!==r.useraccount_isOwnAddress(this.ptr,t,n)}addCommitment(e,t){B[0]=e;const n=j[0],o=j[1];var _=D(t,r.__wbindgen_malloc),a=d;r.useraccount_addCommitment(this.ptr,n,o,_,a)}addAccount(e,t,n,o){B[0]=e;const _=j[0],a=j[1];r.useraccount_addAccount(this.ptr,_,a,u(t),u(n),u(o))}addHashes(e,t){B[0]=e;const n=j[0],o=j[1];r.useraccount_addHashes(this.ptr,n,o,u(t))}addNotes(e,t,n){B[0]=e;const o=j[0],_=j[1];r.useraccount_addNotes(this.ptr,o,_,u(t),u(n))}getRoot(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getRoot(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_totalBalance(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}accountBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_accountBalance(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}noteBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_noteBalance(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}nextTreeIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_nextTreeIndex(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return j[0]=e,j[1]=t,B[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}getLastLeaf(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getLastLeaf(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}getMerkleNode(e,t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);B[0]=t;const a=j[0],c=j[1];r.useraccount_getMerkleNode(_,this.ptr,e,a,c);var n=h()[_/4+0],o=h()[_/4+1];return i(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,o)}}getMerkleProof(e){B[0]=e;const t=j[0],n=j[1];return b(r.useraccount_getMerkleProof(this.ptr,t,n))}getMerkleRootAfterCommitment(e,t){try{const _=r.__wbindgen_add_to_stack_pointer(-16);B[0]=e;const a=j[0],c=j[1];r.useraccount_getMerkleRootAfterCommitment(_,this.ptr,a,c,u(t));var n=h()[_/4+0],o=h()[_/4+1];return i(n,o)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(n,o)}}getMerkleProofAfter(e){try{const _=r.__wbindgen_add_to_stack_pointer(-16);r.useraccount_getMerkleProofAfter(_,this.ptr,u(e));var t=h()[_/4+0],n=h()[_/4+1],o=function(e,t){const n=(null!==I&&I.buffer===r.memory.buffer||(I=new Uint32Array(r.memory.buffer)),I).subarray(e/4,e/4+t),o=[];for(let e=0;e<n.length;e++)o.push(b(n[e]));return o}(t,n).slice();return r.__wbindgen_free(t,4*n),o}finally{r.__wbindgen_add_to_stack_pointer(16)}}getCommitmentMerkleProof(e){B[0]=e;const t=j[0],n=j[1];return b(r.useraccount_getCommitmentMerkleProof(this.ptr,t,n))}getWholeState(){return b(r.useraccount_getWholeState(this.ptr))}}class z{static __wrap(e){const t=Object.create(z.prototype);return t.ptr=e,t}__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_userstate_free(e)}static init(e){var t=l(e,r.__wbindgen_malloc,r.__wbindgen_realloc),n=d;return b(r.userstate_init(t,n))}earliestUsableIndex(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_earliestUsableIndex(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return j[0]=e,j[1]=t,B[0]}finally{r.__wbindgen_add_to_stack_pointer(16)}}totalBalance(){try{const n=r.__wbindgen_add_to_stack_pointer(-16);r.userstate_totalBalance(n,this.ptr);var e=h()[n/4+0],t=h()[n/4+1];return i(e,t)}finally{r.__wbindgen_add_to_stack_pointer(16),r.__wbindgen_free(e,t)}}}class q{__destroy_into_raw(){const e=this.ptr;return this.ptr=0,e}free(){const e=this.__destroy_into_raw();r.__wbg_withdrawdata_free(e)}}const K=async function e(t){void 0===t&&(t=new URL(n(409),n.b));const o={wbg:{}};o.wbg.__wbindgen_string_new=function(e,t){return u(i(e,t))},o.wbg.__wbindgen_object_drop_ref=function(e){b(e)},o.wbg.__wbindgen_string_get=function(e,t){const n=f(t);var o="string"==typeof n?n:void 0,_=p(o)?0:l(o,r.__wbindgen_malloc,r.__wbindgen_realloc),a=d;h()[e/4+1]=a,h()[e/4+0]=_},o.wbg.__wbg_userstate_new=function(e){return u(z.__wrap(e))},o.wbg.__wbindgen_boolean_get=function(e){const t=f(e);return"boolean"==typeof t?t?1:0:2},o.wbg.__wbindgen_object_clone_ref=function(e){return u(f(e))},o.wbg.__wbindgen_number_get=function(e,t){const n=f(t);var o="number"==typeof n?n:void 0;(null!==m&&m.buffer===r.memory.buffer||(m=new Float64Array(r.memory.buffer)),m)[e/8+1]=p(o)?0:o,h()[e/4+0]=!p(o)},o.wbg.__wbindgen_is_object=function(e){const t=f(e);return"object"==typeof t&&null!==t},o.wbg.__wbindgen_number_new=function(e){return u(e)},o.wbg.__wbindgen_is_null=function(e){return null===f(e)},o.wbg.__wbindgen_is_undefined=function(e){return void 0===f(e)},o.wbg.__wbg_get_2d1407dba3452350=function(e,t){return u(f(e)[b(t)])},o.wbg.__wbg_set_f1a4ac8f3a605b11=function(e,t,n){f(e)[b(t)]=b(n)},o.wbg.__wbg_new_693216e109162396=function(){return u(new Error)},o.wbg.__wbg_stack_0ddaca5d1abfb52f=function(e,t){var n=l(f(t).stack,r.__wbindgen_malloc,r.__wbindgen_realloc),o=d;h()[e/4+1]=o,h()[e/4+0]=n},o.wbg.__wbg_error_09919627ac0992f5=function(e,t){try{console.error(i(e,t))}finally{r.__wbindgen_free(e,t)}},o.wbg.__wbindgen_cb_drop=function(e){const t=b(e).original;return 1==t.cnt--&&(t.a=0,!0)},o.wbg.__wbg_instanceof_Window_c4b70662a0d2c5ec=function(e){return f(e)instanceof Window},o.wbg.__wbg_indexedDB_9775c4809e82d047=function(){return T((function(e){var t=f(e).indexedDB;return p(t)?0:u(t)}),arguments)},o.wbg.__wbg_log_3445347661d4505e=function(e){console.log(f(e))},o.wbg.__wbg_key_6802d023599b2b40=function(){return T((function(e){return u(f(e).key)}),arguments)},o.wbg.__wbg_continue_816d63f62ffe6ce7=function(){return T((function(e){f(e).continue()}),arguments)},o.wbg.__wbg_value_d44f1dfdc7c89f28=function(){return T((function(e){return u(f(e).value)}),arguments)},o.wbg.__wbg_setoncomplete_24bfa579663d2a14=function(e,t){f(e).oncomplete=f(t)},o.wbg.__wbg_setonerror_d82a816c9a57e04d=function(e,t){f(e).onerror=f(t)},o.wbg.__wbg_objectStore_c94a6ee2208cf88e=function(){return T((function(e,t,n){return u(f(e).objectStore(i(t,n)))}),arguments)},o.wbg.__wbg_length_3e710f084712413d=function(e){return f(e).length},o.wbg.__wbg_open_d2a2f5d23385fe35=function(){return T((function(e,t,n,r){return u(f(e).open(i(t,n),r>>>0))}),arguments)},o.wbg.__wbg_open_c38b94e8ddec20ef=function(){return T((function(e,t,n){return u(f(e).open(i(t,n)))}),arguments)},o.wbg.__wbg_delete_6ec066a612baf8e1=function(){return T((function(e,t){return u(f(e).delete(f(t)))}),arguments)},o.wbg.__wbg_openCursor_d91aded25c4e5628=function(){return T((function(e){return u(f(e).openCursor())}),arguments)},o.wbg.__wbg_put_c22232f9da0d42a7=function(){return T((function(e,t,n){return u(f(e).put(f(t),f(n)))}),arguments)},o.wbg.__wbg_instanceof_IdbDatabase_8ab42e0cd6d7c2b5=function(e){return f(e)instanceof IDBDatabase},o.wbg.__wbg_version_53a51c2f6b6f1952=function(e){return f(e).version},o.wbg.__wbg_objectStoreNames_f030ec1236ec2ed4=function(e){return u(f(e).objectStoreNames)},o.wbg.__wbg_close_227800cb941ba76f=function(e){f(e).close()},o.wbg.__wbg_createObjectStore_5ff279940bd2ec39=function(){return T((function(e,t,n){return u(f(e).createObjectStore(i(t,n)))}),arguments)},o.wbg.__wbg_transaction_9e75da60cfb3ce21=function(){return T((function(e,t,n){return u(f(e).transaction(i(t,n)))}),arguments)},o.wbg.__wbg_transaction_5ecbf79e148f910f=function(){return T((function(e,t,n){return u(f(e).transaction(f(t),b(n)))}),arguments)},o.wbg.__wbg_now_559193109055ebad=function(e){return f(e).now()},o.wbg.__wbg_bound_a80ce4bf36b46f34=function(){return T((function(e,t){return u(IDBKeyRange.bound(f(e),f(t)))}),arguments)},o.wbg.__wbg_target_cc69dde6c2d9ec90=function(e){var t=f(e).target;return p(t)?0:u(t)},o.wbg.__wbg_setonupgradeneeded_842bb46cfc88ed67=function(e,t){f(e).onupgradeneeded=f(t)},o.wbg.__wbg_instanceof_IdbRequest_6fc5372adb664eca=function(e){return f(e)instanceof IDBRequest},o.wbg.__wbg_result_845fffb3888eb139=function(){return T((function(e){return u(f(e).result)}),arguments)},o.wbg.__wbg_setonsuccess_d00fc7d1a2cdf06b=function(e,t){f(e).onsuccess=f(t)},o.wbg.__wbg_getRandomValues_98117e9a7e993920=function(){return T((function(e,t){f(e).getRandomValues(f(t))}),arguments)},o.wbg.__wbg_randomFillSync_64cc7d048f228ca8=function(){return T((function(e,t,n){f(e).randomFillSync(L(t,n))}),arguments)},o.wbg.__wbg_process_2f24d6544ea7b200=function(e){return u(f(e).process)},o.wbg.__wbg_versions_6164651e75405d4a=function(e){return u(f(e).versions)},o.wbg.__wbg_node_4b517d861cbcb3bc=function(e){return u(f(e).node)},o.wbg.__wbindgen_is_string=function(e){return"string"==typeof f(e)},o.wbg.__wbg_modulerequire_3440a4bcf44437db=function(){return T((function(e,t){return u(a.require(i(e,t)))}),arguments)},o.wbg.__wbg_crypto_98fc271021c7d2ad=function(e){return u(f(e).crypto)},o.wbg.__wbg_msCrypto_a2cdb043d2bfe57f=function(e){return u(f(e).msCrypto)},o.wbg.__wbg_get_67189fe0b323d288=function(e,t){return u(f(e)[t>>>0])},o.wbg.__wbg_new_949bbc1147195c4e=function(){return u(new Array)},o.wbg.__wbindgen_is_function=function(e){return"function"==typeof f(e)},o.wbg.__wbg_newnoargs_be86524d73f67598=function(e,t){return u(new Function(i(e,t)))},o.wbg.__wbg_next_c4151d46d5fa7097=function(e){return u(f(e).next)},o.wbg.__wbg_next_7720502039b96d00=function(){return T((function(e){return u(f(e).next())}),arguments)},o.wbg.__wbg_done_b06cf0578e89ff68=function(e){return f(e).done},o.wbg.__wbg_value_e74a542443d92451=function(e){return u(f(e).value)},o.wbg.__wbg_iterator_4fc4ce93e6b92958=function(){return u(Symbol.iterator)},o.wbg.__wbg_get_4d0f21c2f823742e=function(){return T((function(e,t){return u(Reflect.get(f(e),f(t)))}),arguments)},o.wbg.__wbg_call_888d259a5fefc347=function(){return T((function(e,t){return u(f(e).call(f(t)))}),arguments)},o.wbg.__wbg_new_0b83d3df67ecb33e=function(){return u(new Object)},o.wbg.__wbg_isArray_eb7ad55f2da67dde=function(e){return Array.isArray(f(e))},o.wbg.__wbg_push_284486ca27c6aa8b=function(e,t){return f(e).push(f(t))},o.wbg.__wbg_instanceof_ArrayBuffer_764b6d4119231cb3=function(e){return f(e)instanceof ArrayBuffer},o.wbg.__wbg_byteLength_f1909e1608619087=function(e){return f(e).byteLength},o.wbg.__wbg_values_364ae56c608e6824=function(e){return u(f(e).values())},o.wbg.__wbg_new_342a24ca698edd87=function(e,t){return u(new Error(i(e,t)))},o.wbg.__wbg_call_346669c262382ad7=function(){return T((function(e,t,n){return u(f(e).call(f(t),f(n)))}),arguments)},o.wbg.__wbg_isSafeInteger_0dfc6d38b7184f06=function(e){return Number.isSafeInteger(f(e))},o.wbg.__wbg_entries_aadf9c3f38203a12=function(e){return u(Object.entries(f(e)))},o.wbg.__wbg_new_b1d61b5687f5e73a=function(e,t){try{var n={a:e,b:t},o=new Promise(((e,t)=>{const o=n.a;n.a=0;try{return function(e,t,n,o){r.wasm_bindgen__convert__closures__invoke2_mut__h1e44ce37bf91152a(e,t,u(n),u(o))}(o,n.b,e,t)}finally{n.a=o}}));return u(o)}finally{n.a=n.b=0}},o.wbg.__wbg_resolve_d23068002f584f22=function(e){return u(Promise.resolve(f(e)))},o.wbg.__wbg_then_2fcac196782070cc=function(e,t){return u(f(e).then(f(t)))},o.wbg.__wbg_self_c6fbdfc2918d5e58=function(){return T((function(){return u(self.self)}),arguments)},o.wbg.__wbg_window_baec038b5ab35c54=function(){return T((function(){return u(window.window)}),arguments)},o.wbg.__wbg_globalThis_3f735a5746d41fbd=function(){return T((function(){return u(globalThis.globalThis)}),arguments)},o.wbg.__wbg_global_1bc0b39582740e95=function(){return T((function(){return u(n.g.global)}),arguments)},o.wbg.__wbg_buffer_397eaa4d72ee94dd=function(e){return u(f(e).buffer)},o.wbg.__wbg_newwithbyteoffsetandlength_4b9b8c4e3f5adbff=function(e,t,n){return u(new Uint8Array(f(e),t>>>0,n>>>0))},o.wbg.__wbg_new_a7ce447f15ff496f=function(e){return u(new Uint8Array(f(e)))},o.wbg.__wbg_set_969ad0a60e51d320=function(e,t,n){f(e).set(f(t),n>>>0)},o.wbg.__wbg_length_1eb8fc608a0d4cdb=function(e){return f(e).length},o.wbg.__wbg_instanceof_Uint8Array_08a1f3a179095e76=function(e){return f(e)instanceof Uint8Array},o.wbg.__wbg_newwithlength_929232475839a482=function(e){return u(new Uint8Array(e>>>0))},o.wbg.__wbg_subarray_8b658422a224f479=function(e,t,n){return u(f(e).subarray(t>>>0,n>>>0))},o.wbg.__wbg_byteLength_3e250b41a8915757=function(e){return f(e).byteLength},o.wbg.__wbg_has_1275b5eec3dc7a7a=function(){return T((function(e,t){return Reflect.has(f(e),f(t))}),arguments)},o.wbg.__wbindgen_debug_string=function(e,t){var n=l(v(f(t)),r.__wbindgen_malloc,r.__wbindgen_realloc),o=d;h()[e/4+1]=o,h()[e/4+0]=n},o.wbg.__wbindgen_throw=function(e,t){throw new Error(i(e,t))},o.wbg.__wbindgen_rethrow=function(e){throw b(e)},o.wbg.__wbindgen_memory=function(){return u(r.memory)},o.wbg.__wbindgen_closure_wrapper973=function(e,t,n){return u(k(e,t,189,E))},o.wbg.__wbindgen_closure_wrapper1037=function(e,t,n){return u(k(e,t,234,A))},o.wbg.__wbindgen_closure_wrapper1038=function(e,t,n){return u(k(e,t,234,x))},("string"==typeof t||"function"==typeof Request&&t instanceof Request||"function"==typeof URL&&t instanceof URL)&&(t=fetch(t));const{instance:_,module:a}=await async function(e,t){if("function"==typeof Response&&e instanceof Response){if("function"==typeof WebAssembly.instantiateStreaming)try{return await WebAssembly.instantiateStreaming(e,t)}catch(t){if("application/wasm"==e.headers.get("Content-Type"))throw t;console.warn("`WebAssembly.instantiateStreaming` failed because your server does not serve wasm with `application/wasm` MIME type. Falling back to `WebAssembly.instantiate` which is slower. Original error:\n",t)}const n=await e.arrayBuffer();return await WebAssembly.instantiate(n,t)}{const n=await WebAssembly.instantiate(e,t);return n instanceof WebAssembly.Instance?{instance:n,module:e}:n}}(await t,o);return r=_.exports,e.__wbindgen_wasm_module=a,r}},570:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.FileCache=void 0;const r=n(424),o="files";class _{constructor(e){this.db=e}static async init(){const e=await(0,r.openDB)("zp.file_cache",1,{upgrade(e){e.createObjectStore(o)}});return new _(e)}async getOrCache(e){let t=await this.get(e);return t?console.log(`File ${e} is present in cache, no need to fetch`):(console.log(`Caching ${e}`),t=await this.cache(e)),t}async cache(e){const t=await(await fetch(e)).arrayBuffer();return await this.db.put(o,t,e),t}async get(e){return await this.db.get(o,e)}}t.FileCache=_},827:function(e,t,n){var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),_=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return o(t,e),t};Object.defineProperty(t,"__esModule",{value:!0});const a=n(375),i=_(n(648)),c=n(570);let s,u;const f={async initWasm(e,t){console.info("Initializing web worker..."),await(0,i.default)(e);const n=await c.FileCache.init(),r=await n.getOrCache(t.txParams);s=i.Params.fromBinary(new Uint8Array(r));const o=await n.getOrCache(t.treeParams);u=i.Params.fromBinary(new Uint8Array(o)),console.info("Web worker init complete.")},proveTx:async(e,t)=>new Promise((async n=>{console.debug("Web worker: proveTx"),n(i.Proof.tx(s,e,t))})),proveTree:async(e,t)=>new Promise((async n=>{console.debug("Web worker: proveTree"),n(i.Proof.tree(u,e,t))}))};(0,a.expose)(f)},409:(e,t,n)=>{e.exports=n.p+"1b543f07375369ed03c5.wasm"},375:(e,t,n)=>{n.r(t),n.d(t,{createEndpoint:()=>o,expose:()=>s,proxy:()=>p,proxyMarker:()=>r,releaseProxy:()=>_,transfer:()=>l,transferHandlers:()=>c,windowEndpoint:()=>y,wrap:()=>f});const r=Symbol("Comlink.proxy"),o=Symbol("Comlink.endpoint"),_=Symbol("Comlink.releaseProxy"),a=Symbol("Comlink.thrown"),i=e=>"object"==typeof e&&null!==e||"function"==typeof e,c=new Map([["proxy",{canHandle:e=>i(e)&&e[r],serialize(e){const{port1:t,port2:n}=new MessageChannel;return s(e,t),[n,[n]]},deserialize:e=>(e.start(),f(e))}],["throw",{canHandle:e=>i(e)&&a in e,serialize({value:e}){let t;return t=e instanceof Error?{isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:{isError:!1,value:e},[t,[]]},deserialize(e){if(e.isError)throw Object.assign(new Error(e.value.message),e.value);throw e.value}}]]);function s(e,t=self){t.addEventListener("message",(function n(r){if(!r||!r.data)return;const{id:o,type:_,path:i}=Object.assign({path:[]},r.data),c=(r.data.argumentList||[]).map(m);let f;try{const t=i.slice(0,-1).reduce(((e,t)=>e[t]),e),n=i.reduce(((e,t)=>e[t]),e);switch(_){case"GET":f=n;break;case"SET":t[i.slice(-1)[0]]=m(r.data.value),f=!0;break;case"APPLY":f=n.apply(t,c);break;case"CONSTRUCT":f=p(new n(...c));break;case"ENDPOINT":{const{port1:t,port2:n}=new MessageChannel;s(e,n),f=l(t,[t])}break;case"RELEASE":f=void 0;break;default:return}}catch(e){f={value:e,[a]:0}}Promise.resolve(f).catch((e=>({value:e,[a]:0}))).then((e=>{const[r,a]=h(e);t.postMessage(Object.assign(Object.assign({},r),{id:o}),a),"RELEASE"===_&&(t.removeEventListener("message",n),u(t))}))})),t.start&&t.start()}function u(e){(function(e){return"MessagePort"===e.constructor.name})(e)&&e.close()}function f(e,t){return d(e,[],t)}function b(e){if(e)throw new Error("Proxy has been released and is not useable")}function d(e,t=[],n=function(){}){let r=!1;const a=new Proxy(n,{get(n,o){if(b(r),o===_)return()=>v(e,{type:"RELEASE",path:t.map((e=>e.toString()))}).then((()=>{u(e),r=!0}));if("then"===o){if(0===t.length)return{then:()=>a};const n=v(e,{type:"GET",path:t.map((e=>e.toString()))}).then(m);return n.then.bind(n)}return d(e,[...t,o])},set(n,o,_){b(r);const[a,i]=h(_);return v(e,{type:"SET",path:[...t,o].map((e=>e.toString())),value:a},i).then(m)},apply(n,_,a){b(r);const i=t[t.length-1];if(i===o)return v(e,{type:"ENDPOINT"}).then(m);if("bind"===i)return d(e,t.slice(0,-1));const[c,s]=g(a);return v(e,{type:"APPLY",path:t.map((e=>e.toString())),argumentList:c},s).then(m)},construct(n,o){b(r);const[_,a]=g(o);return v(e,{type:"CONSTRUCT",path:t.map((e=>e.toString())),argumentList:_},a).then(m)}});return a}function g(e){const t=e.map(h);return[t.map((e=>e[0])),(n=t.map((e=>e[1])),Array.prototype.concat.apply([],n))];var n}const w=new WeakMap;function l(e,t){return w.set(e,t),e}function p(e){return Object.assign(e,{[r]:!0})}function y(e,t=self,n="*"){return{postMessage:(t,r)=>e.postMessage(t,n,r),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function h(e){for(const[t,n]of c)if(n.canHandle(e)){const[r,o]=n.serialize(e);return[{type:"HANDLER",name:t,value:r},o]}return[{type:"RAW",value:e},w.get(e)||[]]}function m(e){switch(e.type){case"HANDLER":return c.get(e.name).deserialize(e.value);case"RAW":return e.value}}function v(e,t,n){return new Promise((r=>{const o=new Array(4).fill(0).map((()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16))).join("-");e.addEventListener("message",(function t(n){n.data&&n.data.id&&n.data.id===o&&(e.removeEventListener("message",t),r(n.data))})),e.start&&e.start(),e.postMessage(Object.assign({id:o},t),n)}))}},424:(e,t,n)=>{let r,o;n.r(t),n.d(t,{deleteDB:()=>w,openDB:()=>g,unwrap:()=>d,wrap:()=>b});const _=new WeakMap,a=new WeakMap,i=new WeakMap,c=new WeakMap,s=new WeakMap;let u={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return a.get(e);if("objectStoreNames"===t)return e.objectStoreNames||i.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return b(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function f(e){return"function"==typeof e?(t=e)!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(o||(o=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(t)?function(...e){return t.apply(d(this),e),b(_.get(this))}:function(...e){return b(t.apply(d(this),e))}:function(e,...n){const r=t.call(d(this),e,...n);return i.set(r,e.sort?e.sort():[e]),b(r)}:(e instanceof IDBTransaction&&function(e){if(a.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",o),e.removeEventListener("error",_),e.removeEventListener("abort",_)},o=()=>{t(),r()},_=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",o),e.addEventListener("error",_),e.addEventListener("abort",_)}));a.set(e,t)}(e),n=e,(r||(r=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>n instanceof e))?new Proxy(e,u):e);var t,n}function b(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",o),e.removeEventListener("error",_)},o=()=>{t(b(e.result)),r()},_=()=>{n(e.error),r()};e.addEventListener("success",o),e.addEventListener("error",_)}));return t.then((t=>{t instanceof IDBCursor&&_.set(t,e)})).catch((()=>{})),s.set(t,e),t}(e);if(c.has(e))return c.get(e);const t=f(e);return t!==e&&(c.set(e,t),s.set(t,e)),t}const d=e=>s.get(e);function g(e,t,{blocked:n,upgrade:r,blocking:o,terminated:_}={}){const a=indexedDB.open(e,t),i=b(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(b(a.result),e.oldVersion,e.newVersion,b(a.transaction))})),n&&a.addEventListener("blocked",(()=>n())),i.then((e=>{_&&e.addEventListener("close",(()=>_())),o&&e.addEventListener("versionchange",(()=>o()))})).catch((()=>{})),i}function w(e,{blocked:t}={}){const n=indexedDB.deleteDatabase(e);return t&&n.addEventListener("blocked",(()=>t())),b(n).then((()=>{}))}const l=["get","getKey","getAll","getAllKeys","count"],p=["put","add","delete","clear"],y=new Map;function h(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(y.get(t))return y.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,o=p.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!o&&!l.includes(n))return;const _=async function(e,...t){const _=this.transaction(e,o?"readwrite":"readonly");let a=_.store;return r&&(a=a.index(t.shift())),(await Promise.all([a[n](...t),o&&_.done]))[0]};return y.set(t,_),_}var m;m=u,u={...m,get:(e,t,n)=>h(e,t)||m.get(e,t,n),has:(e,t)=>!!h(e,t)||m.has(e,t)}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var _=t[r]={exports:{}};return e[r].call(_.exports,_,_.exports,n),_.exports}n.m=e,n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{var e;n.g.importScripts&&(e=n.g.location+"");var t=n.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var r=t.getElementsByTagName("script");r.length&&(e=r[r.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),n.p=e})(),n.b=self.location+"",n(827)})();